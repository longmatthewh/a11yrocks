"use strict";var a11yColorPalette=function(e){function t(e){return e.match(/^#(?:[0-9a-f]{3}){1,2}$/i)}function n(e){var t=e;if(4===t.length){var n=t.charAt(1),o=t.charAt(2),c=t.charAt(3);t="#"+n+n+o+o+c+c}return t.toUpperCase()}function o(e,t,n){var o=[];e.normal.pass&&o.push(s),e.large.pass&&o.push(u),o.length>0&&n.push(t+" "+o.join(" / "))}function c(e,t){var n=[],c=colora11y.calcContrastCompliance(t,e);return o(c.aa,d,n),o(c.aaa,g,n),n}function r(e,t){var n={color:t,compliance:{badges:c(e,t)}};return n}function a(o,c){var a=[];return e.each(o,function(e){e=e.trim(),t(e)&&(e=n(e),a.push(r(c,e)))}),a}function l(e,t){var n={color:e,fgColors:a(t,e)};return n}function i(o){var c={colors:[]};return e.each(o.bgColors,function(e){e=e.trim(),t(e)&&(e=n(e),c.colors.push(l(e,o.fgColors)))}),c}var s="normal",u="large",d="AA",g="AAA";return{defineA11yPalette:i}}(_),a11yColorPaletteUI=function(){function e(){var e=document.getElementById(v);e&&e.remove()}function t(){return{bgColors:document.getElementById("bg-colors").value.split(","),fgColors:document.getElementById("fg-colors").value.split(",")}}function n(){var n=t();r("create palette clicked",[n.bgColors.length,n.fgColors.length].join("|")),e(),o();var c=document.getElementById(f);Handlebars.registerPartial("paletteFgColors",c.innerHTML);var a=document.getElementById(m).innerHTML,l=Handlebars.compile(a),i=document.createElement("div");i.innerHTML=l(a11yColorPalette.defineA11yPalette(n)).trim(),document.body.querySelector("main").appendChild(i.firstChild)}function o(){var e=document.getElementById("show-wcag"),t=document.getElementById("show-bg-colors");e.disabled=!1,e.checked=!0,t.disabled=!1,t.checked=!1}function c(e,t){var n=document.getElementById(v);n&&(n.classList.remove(t),n.classList.add(e))}function r(e,t){try{ga("send","event","user interaction",e,t)}catch(n){}}function a(e,t,n,o,r){e.checked?(r(),c(n,t)):(o(),c(t,n))}function l(e){a(e,u,d,function(){r("wcag toggle clicked","hide")},function(){r("wcag toggle clicked","show")})}function i(e){a(e,g,h,function(){r("bgColor toggle clicked","hide")},function(){r("bgColor toggle clicked","show")})}function s(){document.getElementById("load-colors").addEventListener("click",n),document.getElementById("show-wcag").addEventListener("change",function(){l(this)}),document.getElementById("show-bg-colors").addEventListener("change",function(){i(this)})}var u="hide-wcag-labels",d="show-wcag-labels",g="hide-bg-colors",h="show-bg-colors",f="color-chart-fg-color-template",m="color-chart-template",v="color-chart";return{initPalette:s}}();