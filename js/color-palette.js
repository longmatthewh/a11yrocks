"use strict";var a11yColorPalette=function(){function e(e){return e.match(/^#(?:[0-9a-f]{3}){1,2}$/i)}function t(e){var t=e;if(4===t.length){var o=t.charAt(1),n=t.charAt(2),r=t.charAt(3);t="#"+o+o+n+n+r+r}return t.toUpperCase()}function o(e,t,o){var n=[];e.normal.pass&&n.push(i),e.large.pass&&n.push(s),n.length>0&&o.push(t+" "+n.join(" / "))}function n(e,t){var n=[],r=colora11y.calcContrastCompliance(t,e);return o(r.aa,d,n),o(r.aaa,u,n),n}function r(e,t){var o={color:t,compliance:{badges:n(e,t)}};return o}function c(o,n){for(var c=[],l=0;l<o.length;l++){var a=o[l].trim();e(a)&&(a=t(a),c.push(r(n,a)))}return c}function l(e,t){var o={color:e,fgColors:c(t,e)};return o}function a(o){for(var n={colors:[]},r=0;r<o.bgColors.length;r++){var c=o.bgColors[r].trim();e(c)&&(c=t(c),n.colors.push(l(c,o.fgColors)))}return n}var i="normal",s="large",d="AA",u="AAA";return{defineA11yPalette:a}}(),a11yColorPaletteUI=function(){function e(){var e=document.getElementById(v);e&&document.querySelector("main").removeChild(e)}function t(){return{bgColors:document.getElementById("bg-colors").value.split(","),fgColors:document.getElementById("fg-colors").value.split(",")}}function o(){var o=t();c("create palette clicked",[o.bgColors.length,o.fgColors.length].join("|")),e(),n();var r=document.getElementById(m);Handlebars.registerPartial("paletteFgColors",r.innerHTML);var l=document.getElementById(f).innerHTML,a=Handlebars.compile(l),i=document.createElement("div");i.innerHTML=a(a11yColorPalette.defineA11yPalette(o)).trim(),document.body.querySelector("main").appendChild(i.firstChild)}function n(){var e=document.getElementById("show-wcag"),t=document.getElementById("show-bg-colors");e.disabled=!1,e.checked=!0,t.disabled=!1,t.checked=!1}function r(e,t){var o=document.getElementById(v);o&&(o.classList.remove(t),o.classList.add(e))}function c(e,t){try{ga("send","event","user interaction",e,t)}catch(o){}}function l(e,t,o,n,c){e.checked?(c(),r(o,t)):(n(),r(t,o))}function a(e){l(e,d,u,function(){c("wcag toggle clicked","hide")},function(){c("wcag toggle clicked","show")})}function i(e){l(e,g,h,function(){c("bgColor toggle clicked","hide")},function(){c("bgColor toggle clicked","show")})}function s(){document.getElementById("load-colors").addEventListener("click",o),document.getElementById("show-wcag").addEventListener("change",function(){a(this)}),document.getElementById("show-bg-colors").addEventListener("change",function(){i(this)})}var d="hide-wcag-labels",u="show-wcag-labels",g="hide-bg-colors",h="show-bg-colors",m="color-chart-fg-color-template",f="color-chart-template",v="color-chart";return{initPalette:s}}();