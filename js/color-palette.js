"use strict";var a11yColorPalette=function(e){function t(e){return e.match(/^#(?:[0-9a-f]{3}){1,2}$/i)}function n(e){var t=e;if(4===t.length){var n=t.charAt(1),o=t.charAt(2),c=t.charAt(3);t="#"+n+n+o+o+c+c}return t.toUpperCase()}function o(e,t,n){var o=[];e.normal.pass&&o.push(s),e.large.pass&&o.push(u),o.length>0&&n.push(t+" "+o.join(" / "))}function c(e,t){var n=[],c=colora11y.calcContrastCompliance(t,e);return o(c.aa,d,n),o(c.aaa,g,n),n}function r(e,t){var n={color:t,compliance:{badges:c(e,t)}};return n}function l(o,c){var l=[];return e.each(o,function(e){e=e.trim(),t(e)&&(e=n(e),l.push(r(c,e)))}),l}function a(e,t){var n={color:e,fgColors:l(t,e)};return n}function i(o){var c={colors:[]};return e.each(o.bgColors,function(e){e=e.trim(),t(e)&&(e=n(e),c.colors.push(a(e,o.fgColors)))}),c}var s="normal",u="large",d="AA",g="AAA";return{defineA11yPalette:i}}(_),a11yColorPaletteUI=function(){function e(){var e=document.getElementById(v);e&&e.remove()}function t(){return{bgColors:document.getElementById("bg-colors").value.split(","),fgColors:document.getElementById("fg-colors").value.split(",")}}function n(){var n=t();r("create palette clicked",[n.bgColors.length,n.fgColors.length].join("|")),o(),e();var c=document.getElementById(m);Handlebars.registerPartial("paletteFgColors",c.innerHTML);var l=document.getElementById(h).innerHTML,a=Handlebars.compile(l),i=document.createElement("div");i.innerHTML=a(a11yColorPalette.defineA11yPalette(n)).trim(),document.body.querySelector("main").appendChild(i.firstChild)}function o(){document.getElementById("show-wcag").disabled=!1,document.getElementById("show-bg-colors").disabled=!1}function c(e,t){var n=document.getElementById(v);n&&(n.classList.remove(t),n.classList.add(e))}function r(e,t){try{ga("send","event","user interaction",e,t)}catch(n){}}function l(e,t,n,o,r){e.checked?(r(),c(n,t)):(o(),c(t,n))}function a(e){l(e,u,d,function(){r("wcag toggle clicked","hide")},function(){r("wcag toggle clicked","show")})}function i(e){l(e,g,f,function(){r("bgColor toggle clicked","hide")},function(){r("bgColor toggle clicked","show")})}function s(){document.getElementById("load-colors").addEventListener("click",n),document.getElementById("show-wcag").addEventListener("change",function(){a(this)}),document.getElementById("show-bg-colors").addEventListener("change",function(){i(this)})}var u="hide-wcag-labels",d="show-wcag-labels",g="hide-bg-colors",f="show-bg-colors",m="color-chart-fg-color-template",h="color-chart-template",v="color-chart";return{initPalette:s}}();